<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kidereprenuer</title>
  <link rel="stylesheet" href="id.css">

  <!-- Swiper CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
  
  <style>
    .swiper {
      width: 100%;
      padding: 50px 0;
    }
    .swiper-slide {
      display: flex;
      justify-content: center;
    }
    .card {
      width: 300px;
      background: #fff;
      padding: 15px;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      text-align: center;
      transition: transform 0.2s;
    }
    .card:hover {
      transform: scale(1.05);
    }
    .card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      border-radius: 8px;
    }
    .name {
      font-size: 1.2em;
      margin: 10px 0 5px;
      font-weight: bold;
    }
    .company {
      color: #0073e6;
      font-size: 0.95em;
      margin-bottom: 5px;
    }
    .sector {
      font-size: 0.9em;
      color: #555;
      margin-bottom: 10px;
    }
    .bio {
      font-size: 0.85em;
      color: #333;
      margin-bottom: 12px;
    }
    .profile a {
      text-decoration: none;
      color: white;
      background: #0073e6;
      padding: 6px 12px;
      border-radius: 6px;
      transition: background 0.3s;
    }
    .profile a:hover {
      background: #005bb5;
    }
  </style>
</head>
<body>
  <nav class="navbar">
      <ul class="nav-links">
          <li><a href="index.html">HOME</a></li>
          <li><a href="#about">ABOUT</a></li>
          <li><a href="#ideas">IDEAS</a></li>
          <li><a href="#project-submit">SUBMIT PROJECTS</a></li>
      </ul>
  </nav> 

  <section class="hero">
      <h1>Big things start small</h1>
      <h6>Here are bunch of young entrepreneurs who struggled and started their business</h6>
  </section>

  <!-- Swiper Container -->
  <div class="swiper mySwiper">
    <h1 class="heading">People Who started Young and Struggled</h1>
    <div class="swiper-wrapper" id="entrepreneursContainer"></div>
    
    <!-- Navigation buttons -->
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
    
    <!-- Pagination -->
    <div class="swiper-pagination"></div>
  </div>

  <section class="yng"></section>
      <section class="some">
        <div class="chatbot-container">
            <!-- Chat Header -->
            <div class="chat-header">
                <h1>Simple AI Chat</h1>
            </div>

            <!-- Chat Messages Container -->
            <div id="chat-container" class="chat-messages">
                <!-- AI Welcome Message -->
                <div class="ai-message">
                    Hello! I'm an AI assistant specializing in entrepreneurship. I can help with business ideas, market research, funding, and more. How can I help you today?
                </div>
            </div>

            <!-- User Input Area -->
            <div class="chat-input-area">
                <div class="input-flex-container">
                    <input type="text" id="user-input" placeholder="Type your message..." />
                    <button id="send-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" style="width: 1.5rem; height: 1.5rem;">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </section>


  
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

  <script>
    // Fetch JSON from external file
    fetch("entrepruner.json")
      .then(response => response.json())
      .then(data => {
        const container = document.getElementById("entrepreneursContainer");

        data.entrepreneurs.forEach(person => {
          const slide = document.createElement("div");
          slide.className = "swiper-slide";

          slide.innerHTML = `
            <div class="card">
              <img src="${person.image_url}" alt="${person.name}">
              <div class="name">${person.name}</div>
              <div class="company">${person.company}</div>
              <div class="sector">${person.sector}</div>
              <div class="bio">${person.bio}</div>
              ${person.profile_url ? `<div class="profile"><a href="${person.profile_url}" target="_blank">View Profile</a></div>` : ""}
            </div>
          `;

          container.appendChild(slide);
        });

        // Initialize Swiper after data loads
        new Swiper(".mySwiper", {
          slidesPerView: 3,
          spaceBetween: 30,
          loop: true,
          pagination: {
            el: ".swiper-pagination",
            clickable: true,
          },
          navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
          },
          breakpoints: {
            0: { slidesPerView: 1 },
            768: { slidesPerView: 2 },
            1024: { slidesPerView: 3 }
          }
        });
      })
      .catch(error => console.error("Error loading JSON:", error));



              const chatContainer = document.getElementById('chat-container');
        const userInput = document.getElementById('user-input');
        const sendBtn = document.getElementById('send-btn');
        let chatHistory = [];

        // This is the API endpoint and key.
        const apiKey = "AIzaSyC_PfrTyzFHrrBkjl9KosGCzMICT-6-CXU"; 
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

        // Function to create a message bubble
        function createMessageElement(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.textContent = text;
            if (sender === 'user') {
                messageDiv.classList.add('user-message');
            } else {
                messageDiv.classList.add('ai-message');
            }
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight; // Scroll to the bottom
            return messageDiv; // Return the created element
        }

        // Function to send message to the AI
        async function sendMessage() {
            const userMessage = userInput.value.trim();
            if (userMessage === '') return;

            // Display user message
            createMessageElement(userMessage, 'user');
            userInput.value = '';

            // Add user message to history
            chatHistory.push({ role: "user", parts: [{ text: userMessage }] });

            // Display a loading indicator
            const loadingIndicator = createMessageElement('Thinking...', 'ai');
            loadingIndicator.style.backgroundColor = '#f1f1f1';
            loadingIndicator.style.color = '#555';

            try {
                // Define the system instruction to focus the AI on entrepreneurship
                const systemPrompt = "You are a specialized AI assistant. Your purpose is to provide guidance, information, and advice exclusively on the topic of entrepreneurship. Please do not answer questions on any other topic. If a user asks about a topic outside of entrepreneurship, politely decline and redirect them to a relevant entrepreneurial topic.";

                // Construct the payload for the API call
                const payload = {
                    contents: chatHistory,
                    // Use Google Search for grounding to get accurate, up-to-date info
                    tools: [{ "google_search": {} }],
                    // Add system instruction to focus the AI
                    systemInstruction: {
                        parts: [{ text: systemPrompt }]
                    },
                };

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const result = await response.json();
                const aiResponse = result.candidates?.[0]?.content?.parts?.[0]?.text;
                
                // Remove loading indicator
                chatContainer.removeChild(loadingIndicator);

                if (aiResponse) {
                    createMessageElement(aiResponse, 'ai');
                    chatHistory.push({ role: "model", parts: [{ text: aiResponse }] });
                } else {
                    createMessageElement("I'm sorry, I couldn't get a response. Please try again.", 'ai');
                }

            } catch (error) {
                console.error("Error fetching AI response:", error);
                // Remove loading indicator
                chatContainer.removeChild(loadingIndicator);
                createMessageElement("I'm sorry, something went wrong. Please check the console for details.", 'ai');
            }
        }

        // Event listeners
        sendBtn.addEventListener('click', sendMessage);
        userInput.addEventListener('keypress', (event) => {
            if (event.key === 'Enter') {
                sendMessage();
            }
        });

  </script>
</body>
</html>
